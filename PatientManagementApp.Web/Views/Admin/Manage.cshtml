@using PatientManagementApp.Web.ViewModels.Admin
@model ManageViewModel

@{
    ViewBag.Title = "Admin Manage Page";
}

<h2 class="text-center">Manage Deleted Records</h2>
<hr />

<div class="container">
    <div class="row">
        <div class="col-md-4">
            <h3>Deleted Patients</h3>
            @if (Model.DeletedPatients.Any())
            {
                <table class="table">
                    <thead>
                        <tr>
                            <th>First Name</th>
                            <th>Last Name</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var patient in Model.DeletedPatients)
                        {
                            <tr>
                                <td>@patient.FirstName</td>
                                <td>@patient.LastName</td>
                                <td>
                                    <form asp-action="RestorePatient" asp-controller="Admin" method="post">
                                        <input type="hidden" name="id" value="@patient.Id" />
                                        <button type="submit" class="btn btn-success">Restore</button>
                                    </form>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            }
            else
            {
                <p>No deleted patients found.</p>
            }
        </div>

        <div class="col-md-4">
            <h3>Deleted Practitioners</h3>
            @if (Model.DeletedPractitioners.Any())
            {
                <table class="table">
                    <thead>
                        <tr>
                            <th>First Name</th>
                            <th>Last Name</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var practitioner in Model.DeletedPractitioners)
                        {
                            <tr>
                                <td>@practitioner.FirstName</td>
                                <td>@practitioner.LastName</td>
                                <td>
                                    <form asp-action="RestorePractitioner" asp-controller="Admin" method="post">
                                        <input type="hidden" name="id" value="@practitioner.Id" />
                                        <button type="submit" class="btn btn-success">Restore</button>
                                    </form>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            }
            else
            {
                <p>No deleted practitioners found.</p>
            }
        </div>

        <div class="col-md-4">
            <h3>Deleted Appointments</h3>
            @if (Model.DeletedAppointments.Any())
            {
                <table class="table">
                    <thead>
                        <tr>
                            <th>Description</th>
                            <th>Patient</th>
                            <th>Start Date</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var appointment in Model.DeletedAppointments)
                        {
                            <tr>
                                <td>@appointment.Description</td>
                                <td>@appointment.PatientFirstName @appointment.PatientLastName</td>
                                <td>@appointment.StartDate</td>
                                <td>
                                    <form asp-action="RestoreAppointment" asp-controller="Admin" method="post">
                                        <input type="hidden" name="id" value="@appointment.Id" />
                                        <button type="submit" class="btn btn-success">Restore</button>
                                    </form>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            }
            else
            {
                <p>No deleted appointments found.</p>
            }
        </div>
    </div>
</div>
